<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Content Engine{% endblock %}</title>

    <!-- HTMX 2.0 -->
    <script src="https://unpkg.com/htmx.org@2.0.0"></script>

    <!-- Simple CSS -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1><a href="/">Content Engine</a></h1>
            <p class="tagline">AI-Powered Content Posting System</p>
            <nav>
                <a href="/">Dashboard</a>
                <a href="/posts">All Posts</a>
                <a href="/chat">ðŸ’¬ AI Assistant</a>
                <a href="/posts?status=draft">Drafts</a>
                <a href="/posts?status=scheduled">Scheduled</a>
                <a href="/posts?status=posted">Posted</a>
            </nav>
        </div>
    </header>

    {% if request.state.is_authenticated %}
    <!-- Authenticated Mode -->
    <div class="auth-status-bar authenticated">
        <div class="container">
            <p>
                âœ… <strong>Authenticated as {{ request.state.user.name or request.state.user.email }}</strong>
                Â· You have full access to create, edit, and manage posts.
                Â· <a href="/auth/logout">Sign out</a>
            </p>
        </div>
    </div>
    {% else %}
    <!-- Demo Mode -->
    <div class="auth-status-bar demo">
        <div class="container">
            <p>
                ðŸ‘‹ <strong>Demo Mode</strong> â€“ You're viewing Austin's Content Engine.
                Try the UI (changes won't be saved).
                <a href="/auth/linkedin" class="sign-in-link">Sign in with LinkedIn</a> for full access.
                Â· <a href="https://github.com/eccentricnode/ContentEngine" target="_blank">GitHub</a>
            </p>
        </div>
    </div>
    {% endif %}

    <main class="container">
        {% block content %}{% endblock %}
    </main>

    <footer>
        <div class="container">
            <p>Built in 8 hours with AI-first development using Claude Code</p>
            <p>
                <a href="https://www.theaustinjohnson.com/posts/content-engine-demo">Blog Post</a> Â·
                <a href="https://github.com/eccentricnode/ContentEngine">GitHub Repo</a> Â·
                <a href="https://www.linkedin.com/in/austinjohnson">Austin Johnson</a>
            </p>
        </div>
    </footer>
</body>
</html>
